const pictures=document.querySelectorAll(".picture-item"),buttons=document.querySelectorAll(".gallery-button"),gallery=document.querySelector(".gallery");function filterPictures(e){gallery.classList.add("gallery-open"),pictures.forEach(t=>{let l=t.querySelector("img").dataset.galleryTag.split(", ");"tous"===e||l.includes(e)?t.style.display="block":t.style.display="none"})}function setPictureHeight(){let e=window.innerWidth,t=document.querySelectorAll(".picture-item");e<=576?t.forEach(t=>{t.style.width="100%",t.style.height=1*e+"px"}):t.forEach(e=>{e.style.width="",e.style.height=""})}buttons.forEach(e=>{e.addEventListener("click",function(){let e=this.textContent.toLowerCase();buttons.forEach(e=>{e.classList.remove("selected-filter")}),this.classList.add("selected-filter"),filterPictures(e)})}),filterPictures("tous"),gallery.addEventListener("animationend",function(){gallery.classList.remove("gallery-open")}),window.addEventListener("resize",setPictureHeight),setPictureHeight();const modal=document.querySelector("#modal-picture"),modalContent=document.querySelector(".modal-content"),modalPicture=document.querySelector(".modal-picture"),allPicture=document.querySelectorAll(".gallery-picture"),selectorCloseModal=document.querySelector(".close-modal"),rightArrow=document.querySelector(".modal-arrow-right"),leftArrow=document.querySelector(".modal-arrow-left");let currentImageIndex=0;function openModal(e){dataIndex=parseInt(e.getAttribute("data-index"));let t=e.getAttribute("src"),l=e.getAttribute("alt"),r=document.createElement("img");r.src=t,r.alt=l,modalPicture.innerHTML="",modalPicture.appendChild(r),modal.style.display="flex",modalContent.style.display="block",document.body.style.overflow="hidden",currentImageIndex=dataIndex}function nextPictureModal(){let e=(currentImageIndex+1)%allPicture.length;for(;"none"===allPicture[e].parentElement.style.display;)e=(++currentImageIndex+1)%allPicture.length;let t=allPicture[e],l=t.getAttribute("src"),r=t.getAttribute("alt");modalPicture.innerHTML="";let i=document.createElement("img");i.src=l,i.alt=r,modalPicture.appendChild(i),currentImageIndex=e}function previousPictureModal(){let e=(currentImageIndex-1+allPicture.length)%allPicture.length;for(;"none"===allPicture[e].parentElement.style.display;)e=(--currentImageIndex-1+allPicture.length)%allPicture.length;let t=allPicture[e],l=t.getAttribute("src"),r=t.getAttribute("alt");modalPicture.innerHTML="";let i=document.createElement("img");i.src=l,i.alt=r,modalPicture.appendChild(i),currentImageIndex=e}function closeModal(){modal.style.display="none",modalContent.style.display="none",document.body.style.overflow="auto",currentImageIndex=0}allPicture.forEach(e=>{e.addEventListener("click",()=>openModal(e))}),leftArrow.addEventListener("click",()=>previousPictureModal()),rightArrow.addEventListener("click",()=>nextPictureModal()),selectorCloseModal.addEventListener("click",closeModal);